/*
 *  Bootstrap Duallistbox - v3.0.9
 *  A responsive dual listbox widget optimized for Twitter Bootstrap. It works on all modern browsers and on touch devices.
 *  https://www.virtuosoft.eu/code/bootstrap-duallistbox/
 *
 *  Made by István Ujj-Mészáros
 *  Under Apache License v2.0 License
 */

!function(a,e){var i="bootstrapDualListbox",n={bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",moveOnSelect:!0,moveOnDoubleClick:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:100,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Showing all {0}",infoTextFiltered:'<span class="label label-warning">Filtered</span> {0} from {1}',infoTextEmpty:"Empty list",filterOnValues:!1,sortByInputOrder:!1,eventMoveOverride:!1,eventMoveAllOverride:!1,eventRemoveOverride:!1,eventRemoveAllOverride:!1},s=/android/i.test(navigator.userAgent.toLowerCase());function l(e,t){this.element=a(e),this.settings=a.extend({},n,t),this._defaults=n,this._name=i,this.init()}function t(e){e.element.trigger("change")}function o(n){n.element.find("option").each(function(e,t){t=a(t);void 0===t.data("original-index")&&t.data("original-index",n.elementCount++),void 0===t.data("_selected")&&t.data("_selected",!1)})}function r(n,s,i){n.element.find("option").each(function(e,t){t=a(t);t.data("original-index")===s&&(t.prop("selected",i),i?(t.attr("data-sortindex",n.sortIndex),n.sortIndex++):t.removeAttr("data-sortindex"))})}function c(e,n){return e.replace(/\{(\d+)\}/g,function(e,t){return void 0!==n[t]?n[t]:e})}function h(e){var t,n,s,i,l;e.settings.infoText&&(t=e.elements.select1.find("option").length,n=e.elements.select2.find("option").length,s=e.element.find("option").length-e.selectedElements,i=e.selectedElements,l="",l=0==s?e.settings.infoTextEmpty:c(t===s?e.settings.infoText:e.settings.infoTextFiltered,[t,s]),e.elements.info1.html(l),e.elements.box1.toggleClass("filtered",!(t===s||0==s)),l=0===i?e.settings.infoTextEmpty:c(n===i?e.settings.infoText:e.settings.infoTextFiltered,[n,i]),e.elements.info2.html(l),e.elements.box2.toggleClass("filtered",!(n===i||0===i)))}function m(n){n.selectedElements=0,n.elements.select1.empty(),n.elements.select2.empty(),n.element.find("option").each(function(e,t){t=a(t);t.prop("selected")?(n.selectedElements++,n.elements.select2.append(t.clone(!0).prop("selected",t.data("_selected")))):n.elements.select1.append(t.clone(!0).prop("selected",t.data("_selected")))}),n.settings.showFilterInputs&&(d(n,1),d(n,2)),h(n)}function d(i,l){var o,r,e;i.settings.showFilterInputs&&(u(i,l),i.elements["select"+l].empty().scrollTop(0),o=new RegExp(a.trim(i.elements["filterInput"+l].val()),"gi"),r=i.element.find("option"),e=i.element,(e=1===l?r.not(":selected"):e.find("option:selected")).each(function(e,t){var n=a(t),s=!0;(t.text.match(o)||i.settings.filterOnValues&&n.attr("value").match(o))&&(s=!1,i.elements["select"+l].append(n.clone(!0).prop("selected",n.data("_selected")))),r.eq(n.data("original-index")).data("filtered"+l,s)}),h(i))}function u(e,t){var n=e.element.find("option");e.elements["select"+t].find("option").each(function(e,t){t=a(t);n.eq(t.data("original-index")).data("_selected",t.prop("selected"))})}function f(e){var t=e.children("option");t.sort(function(e,t){e=parseInt(e.getAttribute("data-sortindex")),t=parseInt(t.getAttribute("data-sortindex"));return t<e?1:e<t?-1:0}),t.detach().appendTo(e)}function v(e,t){e.find("option").sort(function(e,t){return a(e).data("original-index")>a(t).data("original-index")?1:-1}).appendTo(e),m(t)}function p(n){"all"!==n.settings.preserveSelectionOnMove||n.settings.moveOnSelect?"moved"!==n.settings.preserveSelectionOnMove||n.settings.moveOnSelect||u(n,1):(u(n,1),u(n,2)),n.elements.select1.find("option:selected").each(function(e,t){t=a(t);t.data("filtered1")||r(n,t.data("original-index"),!0)}),m(n),t(n),n.settings.sortByInputOrder?f(n.elements.select2):v(n.elements.select2,n)}function g(n){"all"!==n.settings.preserveSelectionOnMove||n.settings.moveOnSelect?"moved"!==n.settings.preserveSelectionOnMove||n.settings.moveOnSelect||u(n,2):(u(n,1),u(n,2)),n.elements.select2.find("option:selected").each(function(e,t){t=a(t);t.data("filtered2")||r(n,t.data("original-index"),!1)}),m(n),t(n),v(n.elements.select1,n),n.settings.sortByInputOrder&&f(n.elements.select2)}function b(s){s.elements.form.submit(function(e){s.elements.filterInput1.is(":focus")?(e.preventDefault(),s.elements.filterInput1.focusout()):s.elements.filterInput2.is(":focus")&&(e.preventDefault(),s.elements.filterInput2.focusout())}),s.element.on("bootstrapDualListbox.refresh",function(e,t){s.refresh(t)}),s.elements.filterClear1.on("click",function(){s.setNonSelectedFilter("",!0)}),s.elements.filterClear2.on("click",function(){s.setSelectedFilter("",!0)}),!1===s.settings.eventMoveOverride&&s.elements.moveButton.on("click",function(){p(s)}),!1===s.settings.eventMoveAllOverride&&s.elements.moveAllButton.on("click",function(){var n;"all"!==(n=s).settings.preserveSelectionOnMove||n.settings.moveOnSelect?"moved"!==n.settings.preserveSelectionOnMove||n.settings.moveOnSelect||u(n,1):(u(n,1),u(n,2)),n.element.find("option").each(function(e,t){t=a(t);t.data("filtered1")||(t.prop("selected",!0),t.attr("data-sortindex",n.sortIndex),n.sortIndex++)}),m(n),t(n)}),!1===s.settings.eventRemoveOverride&&s.elements.removeButton.on("click",function(){g(s)}),!1===s.settings.eventRemoveAllOverride&&s.elements.removeAllButton.on("click",function(){var e;"all"!==(e=s).settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||u(e,2):(u(e,1),u(e,2)),e.element.find("option").each(function(e,t){t=a(t);t.data("filtered2")||(t.prop("selected",!1),t.removeAttr("data-sortindex"))}),m(e),t(e)}),s.elements.filterInput1.on("change keyup",function(){d(s,1)}),s.elements.filterInput2.on("change keyup",function(){d(s,2)})}l.prototype={init:function(){this.container=a('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear1 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn moveall">       <i></i>       <i></i>     </button>     <button type="button" class="btn move">       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div> <div class="box2">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear2 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn remove">       <i></i>     </button>     <button type="button" class="btn removeall">       <i></i>       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div></div>').insertBefore(this.element),this.elements={originalSelect:this.element,box1:a(".box1",this.container),box2:a(".box2",this.container),filterInput1:a(".box1 .filter",this.container),filterInput2:a(".box2 .filter",this.container),filterClear1:a(".box1 .clear1",this.container),filterClear2:a(".box2 .clear2",this.container),label1:a(".box1 > label",this.container),label2:a(".box2 > label",this.container),info1:a(".box1 .info",this.container),info2:a(".box2 .info",this.container),select1:a(".box1 select",this.container),select2:a(".box2 select",this.container),moveButton:a(".box1 .move",this.container),removeButton:a(".box2 .remove",this.container),moveAllButton:a(".box1 .moveall",this.container),removeAllButton:a(".box2 .removeall",this.container),form:a(a(".box1 .filter",this.container)[0].form)},this.originalSelectName=this.element.attr("name")||"";var e="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,t="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",e),this.elements.select2.attr("id",t),this.elements.label1.attr("for",e),this.elements.label2.attr("for",t),this.selectedElements=0,this.sortIndex=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setMoveOnDoubleClick(this.settings.moveOnDoubleClick),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setSelectOrMinimalHeight(this.settings.selectorMinimalHeight),o(this),this.setShowFilterInputs(this.settings.showFilterInputs),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.setSortByInputOrder(this.settings.sortByInputOrder),this.setEventMoveOverride(this.settings.eventMoveOverride),this.setEventMoveAllOverride(this.settings.eventMoveAllOverride),this.setEventRemoveOverride(this.settings.eventRemoveOverride),this.setEventRemoveAllOverride(this.settings.eventRemoveAllOverride),this.element.hide(),b(this),m(this),this.element},setBootstrap2Compatible:function(e,t){return(this.settings.bootstrap2Compatible=e)?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-6").addClass("span6"),this.container.find(".clear1, .clear2").removeClass("btn-default btn-xs").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default"),this.container.find(".moveall > i, .move > i").removeClass("glyphicon glyphicon-arrow-right").addClass("icon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("glyphicon glyphicon-arrow-left").addClass("icon-arrow-left")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").removeClass("span6").addClass("col-md-6"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default btn-xs"),this.container.find("input, select").addClass("form-control form-control-sm bootstrap-duallistbox"),this.container.find(".btn").addClass("btn-sm btn-default"),this.container.find(".moveall > i, .move > i").addClass("icon-arrow-right22 font-size-20"),this.container.find(".removeall > i, .remove > i").addClass("icon-arrow-left22 font-size-20")),t&&m(this),this.element},setFilterTextClear:function(e,t){return this.settings.filterTextClear=e,this.elements.filterClear1.html(e),this.elements.filterClear2.html(e),t&&m(this),this.element},setFilterPlaceHolder:function(e,t){return this.settings.filterPlaceHolder=e,this.elements.filterInput1.attr("placeholder",e),this.elements.filterInput2.attr("placeholder",e),t&&m(this),this.element},setMoveSelectedLabel:function(e,t){return this.settings.moveSelectedLabel=e,this.elements.moveButton.attr("title",e),t&&m(this),this.element},setMoveAllLabel:function(e,t){return this.settings.moveAllLabel=e,this.elements.moveAllButton.attr("title",e),t&&m(this),this.element},setRemoveSelectedLabel:function(e,t){return this.settings.removeSelectedLabel=e,this.elements.removeButton.attr("title",e),t&&m(this),this.element},setRemoveAllLabel:function(e,t){return this.settings.removeAllLabel=e,this.elements.removeAllButton.attr("title",e),t&&m(this),this.element},setMoveOnSelect:function(e,t){var n;return s&&(e=!0),this.settings.moveOnSelect=e,this.settings.moveOnSelect?(this.container.addClass("moveonselect"),(n=this).elements.select1.on("change",function(){p(n)}),this.elements.select2.on("change",function(){g(n)})):(this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change")),t&&m(this),this.element},setMoveOnDoubleClick:function(e,t){var n;return s&&(e=!1),this.settings.moveOnDoubleClick=e,this.settings.moveOnDoubleClick?(this.container.addClass("moveondoubleclick"),(n=this).elements.select1.on("dblclick",function(){p(n)}),this.elements.select2.on("dblclick",function(){g(n)})):(this.container.removeClass("moveondoubleclick"),this.elements.select1.off("dblclick"),this.elements.select2.off("dblclick")),t&&m(this),this.element},setPreserveSelectionOnMove:function(e,t){return s&&(e=!1),this.settings.preserveSelectionOnMove=e,t&&m(this),this.element},setSelectedListLabel:function(e,t){return((this.settings.selectedListLabel=e)?this.elements.label2.show():this.elements.label2.hide()).html(e),t&&m(this),this.element},setNonSelectedListLabel:function(e,t){return((this.settings.nonSelectedListLabel=e)?this.elements.label1.show():this.elements.label1.hide()).html(e),t&&m(this),this.element},setHelperSelectNamePostfix:function(e,t){return(this.settings.helperSelectNamePostfix=e)?(this.elements.select1.attr("name",this.originalSelectName+e+"1"),this.elements.select2.attr("name",this.originalSelectName+e+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),t&&m(this),this.element},setSelectOrMinimalHeight:function(e,t){this.settings.selectorMinimalHeight=e;var n=this.element.height();return this.element.height()<e&&(n=e),this.elements.select1.height(n),this.elements.select2.height(n),t&&m(this),this.element},setShowFilterInputs:function(e,t){return e?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),m(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.showFilterInputs=e,t&&m(this),this.element},setNonSelectedFilter:function(e,t){if(this.settings.showFilterInputs)return this.settings.nonSelectedFilter=e,this.elements.filterInput1.val(e),t&&m(this),this.element},setSelectedFilter:function(e,t){if(this.settings.showFilterInputs)return this.settings.selectedFilter=e,this.elements.filterInput2.val(e),t&&m(this),this.element},setInfoText:function(e,t){return(this.settings.infoText=e)?(this.elements.info1.show(),this.elements.info2.show()):(this.elements.info1.hide(),this.elements.info2.hide()),t&&m(this),this.element},setInfoTextFiltered:function(e,t){return this.settings.infoTextFiltered=e,t&&m(this),this.element},setInfoTextEmpty:function(e,t){return this.settings.infoTextEmpty=e,t&&m(this),this.element},setFilterOnValues:function(e,t){return this.settings.filterOnValues=e,t&&m(this),this.element},setSortByInputOrder:function(e,t){return this.settings.sortByInputOrder=e,t&&m(this),this.element},setEventMoveOverride:function(e,t){return this.settings.eventMoveOverride=e,t&&m(this),this.element},setEventMoveAllOverride:function(e,t){return this.settings.eventMoveAllOverride=e,t&&m(this),this.element},setEventRemoveOverride:function(e,t){return this.settings.eventRemoveOverride=e,t&&m(this),this.element},setEventRemoveAllOverride:function(e,t){return this.settings.eventRemoveAllOverride=e,t&&m(this),this.element},getContainer:function(){return this.container},refresh:function(e){var t;o(this),e?(t=this).elements.select1.find("option").each(function(){t.element.find("option").data("_selected",!1)}):(u(this,1),u(this,2)),m(this)},destroy:function(){return this.container.remove(),this.element.show(),a.data(this,"plugin_"+i,null),this.element}},a.fn[i]=function(n){var t,s=arguments;return n===e||"object"==typeof n?this.each(function(){a(this).is("select")?a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new l(this,n)):a(this).find("select").each(function(e,t){a(t).bootstrapDualListbox(n)})}):"string"==typeof n&&"_"!==n[0]&&"init"!==n?(this.each(function(){var e=a.data(this,"plugin_"+i);e instanceof l&&"function"==typeof e[n]&&(t=e[n].apply(e,Array.prototype.slice.call(s,1)))}),t!==e?t:this):void 0}}(jQuery,(window,void document));